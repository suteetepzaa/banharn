<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สรุปยืนยันการส่งผลการเรียน 2/2568 (ทุกกลุ่มสาระ)</title>
    <link href="https://fonts.googleapis.com/css2?family=Kodchasan:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2563eb; --primary-soft: #dbeafe; --accent: #7c3aed;
            --success: #059669; --danger: #dc2626; --bg: #f0f2f5;
            --text-dark: #1e293b; --text-muted: #64748b;
        }
        body { font-family: 'Kodchasan', sans-serif; background-color: var(--bg); margin: 0; padding: 20px; color: var(--text-dark); }
        .container { max-width: 1200px; margin: 0 auto; }
        .header-card { background: white; padding: 30px; border-radius: 30px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin-bottom: 30px; }
        h2 { color: var(--primary); margin: 0; font-size: 1.8rem; }
        .countdown-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; max-width: 350px; margin: 15px auto; }
        .time-unit { background: var(--primary-soft); padding: 8px; border-radius: 15px; }
        .time-num { display: block; font-size: 1.5rem; font-weight: 600; color: var(--primary); }
        .time-label { font-size: 0.75rem; color: var(--primary); }
        .main-card { background: white; padding: 25px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.03); }
        .dept-section { margin-bottom: 40px; border-left: 5px solid var(--primary); padding-left: 20px; }
        .group-title { font-size: 1.5rem; font-weight: 600; color: var(--text-dark); margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .table-container { overflow-x: auto; border-radius: 15px; border: 1px solid #eee; margin-top: 10px; }
        table { width: 100%; border-collapse: collapse; min-width: 850px; }
        th { background: #f8fafc; padding: 12px; text-align: left; color: var(--text-muted); font-size: 0.85rem; border-bottom: 2px solid #eee; }
        td { padding: 10px 12px; border-bottom: 1px solid #eee; font-size: 0.9rem; }
        .code-tag { background: #f1f5f9; padding: 3px 8px; border-radius: 6px; font-weight: 600; font-size: 0.8rem; }
        .status-badge { display: inline-flex; align-items: center; gap: 5px; padding: 4px 10px; border-radius: 8px; font-size: 0.8rem; }
        .status-badge.success { background: #ecfdf5; color: var(--success); }
        .status-badge.wait { background: #fff1f2; color: var(--danger); }
    </style>
</head>
<body>

<div class="container">
    <header class="header-card">
        <h2>แบบสรุปยืนยันการส่งผลการเรียน 2/2568</h2>
        <div class="countdown-grid">
            <div class="time-unit"><span class="time-num" id="days">00</span><span class="time-label">วัน</span></div>
            <div class="time-unit"><span class="time-num" id="hours">00</span><span class="time-label">ชม.</span></div>
            <div class="time-unit"><span class="time-num" id="mins">00</span><span class="time-label">นาที</span></div>
            <div class="time-unit"><span class="time-num" id="secs">00</span><span class="time-label">วินาที</span></div>
        </div>
    </header>

    <div class="main-card" id="contentArea"></div>
</div>

<script>
    function updateTimer() {
        const deadline = new Date("February 13, 2026 23:59:59").getTime();
        const diff = deadline - new Date().getTime();
        if (diff < 0) return;
        document.getElementById("days").innerText = Math.floor(diff / 86400000).toString().padStart(2, '0');
        document.getElementById("hours").innerText = Math.floor((diff % 86400000) / 3600000).toString().padStart(2, '0');
        document.getElementById("mins").innerText = Math.floor((diff % 3600000) / 60000).toString().padStart(2, '0');
        document.getElementById("secs").innerText = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');
    }
    setInterval(updateTimer, 1000);

    function initDisplay() {
        let allData = [];
        const depts = [
            { name: "ภาษาไทย", code: "ท21102", subject: "ภาษาไทย 2" },
            { name: "คณิตศาสตร์", code: "ค21102", subject: "คณิตศาสตร์ 2" },
            { name: "วิทยาศาสตร์และเทคโนโลยี", code: "ว21102", subject: "วิทยาศาสตร์ 2" },
            { name: "สังคมศึกษา", code: "ส21102", subject: "สังคมศึกษา 2" },
            { name: "สุขศึกษา", code: "พ21102", subject: "สุขศึกษา 2" },
            { name: "ศิลปะ", code: "ศ21102", subject: "ศิลปะ 2" },
            { name: "การงานอาชีพ", code: "ง21102", subject: "การงานอาชีพ 2" },
            { name: "ภาษาต่างประเทศ", code: "อ21102", subject: "ภาษาอังกฤษ 2" },
            { name: "กลุ่มงานสนับสนุน", code: "กน001", subject: "แนะแนว" }
        ];

        // Loop สร้างห้อง 1-10 ให้ทุกกลุ่มสาระ
        depts.forEach(dept => {
            for(let r=1; r<=10; r++) {
                allData.push({
                    dept: dept.name,
                    code: dept.code,
                    course: dept.subject,
                    level: "ม.1",
                    room: r,
                    teacher: "ครูประจำวิชา",
                    status: Math.random() > 0.8 ? 1 : 0, // สุ่มสถานะเพื่อความสวยงามในการแสดงผล
                    date: "-"
                });
            }
        });

        renderTable(allData);
    }

    function renderTable(data) {
        const contentArea = document.getElementById('contentArea');
        const grouped = data.reduce((acc, obj) => {
            if (!acc[obj.dept]) acc[obj.dept] = [];
            acc[obj.dept].push(obj);
            return acc;
        }, {});

        let html = "";
        for (const deptName in grouped) {
            html += `
                <section class="dept-section">
                    <div class="group-title"><i class="fas fa-book-open"></i> กลุ่มสาระ${deptName}</div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th width="12%">รหัสวิชา</th><th width="25%">ชื่อวิชา</th><th width="10%">ห้อง</th>
                                    <th width="20%">ครูผู้สอน</th><th width="18%">สถานะ</th><th>วันที่ยืนยัน</th>
                                </tr>
                            </thead>
                            <tbody>`;
            
            grouped[deptName].forEach(item => {
                const statusHtml = item.status === 1 
                    ? `<span class="status-badge success"><i class="fas fa-check"></i> เรียบร้อย</span>`
                    : `<span class="status-badge wait"><i class="fas fa-clock"></i> รอดำเนินการ</span>`;
                
                html += `
                    <tr>
                        <td><span class="code-tag">${item.code}</span></td>
                        <td style="color:var(--primary); font-weight:500;">${item.course}</td>
                        <td>${item.level}/${item.room}</td>
                        <td>${item.teacher}</td>
                        <td>${statusHtml}</td>
                        <td style="color:var(--text-muted); font-size:0.8rem;">${item.date}</td>
                    </tr>`;
            });
            html += `</tbody></table></div></section>`;
        }
        contentArea.innerHTML = html;
    }
    window.onload = initDisplay;
</script>
</body>
</html>
